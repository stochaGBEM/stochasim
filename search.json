[{"path":"https://stochagbem.github.io/stochasim/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sarah Davidson. Author. Brett Eaton. Author, maintainer. Lucy MacKenzie. Author. Vincenzo Coia. Author, contributor. Jane Wang. Contributor.","code":""},{"path":"https://stochagbem.github.io/stochasim/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Davidson S, Eaton B, MacKenzie L, Coia V (2024). stochasim: Package (One Line, Title Case). R package version 0.0.0.9000, https://stochagbem.github.io/stochasim/.","code":"@Manual{,   title = {stochasim: What the Package Does (One Line, Title Case)},   author = {Sarah Davidson and Brett Eaton and Lucy MacKenzie and Vincenzo Coia},   year = {2024},   note = {R package version 0.0.0.9000},   url = {https://stochagbem.github.io/stochasim/}, }"},{"path":"https://stochagbem.github.io/stochasim/index.html","id":"stochasim","dir":"","previous_headings":"","what":"What the Package Does (One Line, Title Case)","title":"What the Package Does (One Line, Title Case)","text":"Stochasim tracks river channel width time floods widen channel non-flood years narrow channel revegetation. iterates gbem::gbem() algorithm calculate erosion, includes revegetation layer erosion happen.","code":""},{"path":"https://stochagbem.github.io/stochasim/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"What the Package Does (One Line, Title Case)","text":"stochasim CRAN yet, can install development version stochasim like : doesn’t work, may install remotes package command install.packages(\"remotes\").","code":"remotes::install_github(\"stochaGBEM/stochasim\")"},{"path":"https://stochagbem.github.io/stochasim/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"What the Package Does (One Line, Title Case)","text":"Loading stochasim also loads gbem package, can start making channel cross section. Find flow erosion begins (also gbem feature). Set peak flow distribution sometimes exceeds erosive flow. ’s often event exceeds critical flow (proportion): experimental feature stochasim incorporation hydrograph distributions: probability distribution whose outcome space made event hydrographs. Make rainfall-related hydrograph distribution whose baseflow fixed, peak random GEV; plot one example draw distribution.  Run stochasim algorithm. Plot evolution width year 500 onwards.  Plot peak discharges year 500 onwards.","code":"library(stochasim) #> Loading required package: gbem library(distionary) (cs <- cross_section(10, grad = 0.01, d50 = 65, d84 = 100, roughness = 0.01)) #> Channel with width 10 (q <- eroding_flow(cs)) #> [1] 15.7588 d_peak <- dst_gev(11, 3, 0.1) eval_survival(d_peak, at = q) #> [1] 0.2049773 h <- hydist_rain(d_peak, baseflow = q / 4) set.seed(23) plot(h) ss <- stochasim(h, cs) #> |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||| plot(ss, from = 500) plot(ss, from = 500, what = \"flows\")"},{"path":"https://stochagbem.github.io/stochasim/reference/hydist.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a new hydrograph distribution — hydist","title":"Create a new hydrograph distribution — hydist","text":"Create new hydrograph distribution","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/hydist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a new hydrograph distribution — hydist","text":"","code":"hydist(realise)"},{"path":"https://stochagbem.github.io/stochasim/reference/hydist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a new hydrograph distribution — hydist","text":"realise Function accepts single non-negative integer returns many gbem::hydrograph() realizations. hydrograph.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/hydist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a new hydrograph distribution — hydist","text":"hydrograph distribution.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/hydist_snowrain.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a Rainfall or Snowmelt-Related Event Hydrograph Distribution — hydist_rain","title":"Make a Rainfall or Snowmelt-Related Event Hydrograph Distribution — hydist_rain","text":"Make Rainfall Snowmelt-Related Event Hydrograph Distribution","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/hydist_snowrain.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a Rainfall or Snowmelt-Related Event Hydrograph Distribution — hydist_rain","text":"","code":"hydist_rain(dst_peak, baseflow, duration = 3 * 24)  hydist_snow(dst_peak, baseflow, duration = 9 * 24)"},{"path":"https://stochagbem.github.io/stochasim/reference/hydist_snowrain.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make a Rainfall or Snowmelt-Related Event Hydrograph Distribution — hydist_rain","text":"dst_peak Distionary distribution peak. Left-truncated always exceed baseflow. baseflow Baseflow discharge; single numeric. duration Length event. Defaults 3 days rainfall-related events, 9 days snowmelt-related events (hours).","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/hydist_snowrain.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make a Rainfall or Snowmelt-Related Event Hydrograph Distribution — hydist_rain","text":"hydrograph distribution rainfall-related snowmelt-related events, constant baseflow stochastic peak discharge.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/hydist_snowrain.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make a Rainfall or Snowmelt-Related Event Hydrograph Distribution — hydist_rain","text":"","code":"d <- distionary::dst_gev(100, 3, 0.1) #> Error in as.environment(.env): no item called \"package:distionary\" on the search list set.seed(4) hs <- hydist_snow(d, 50) #> Error in eval(expr, envir, enclos): object 'd' not found plot(hs, n = 1000, col = \"orange3\") #> Error in eval(expr, envir, enclos): object 'hs' not found hr <- hydist_rain(d, 50) #> Error in eval(expr, envir, enclos): object 'd' not found plot(hr, n = 1000, col = \"blue3\", add = TRUE) #> Error in eval(expr, envir, enclos): object 'hr' not found"},{"path":"https://stochagbem.github.io/stochasim/reference/hydist_tri.html","id":null,"dir":"Reference","previous_headings":"","what":"Triangular Hydrograph Distribution — hydist_tri","title":"Triangular Hydrograph Distribution — hydist_tri","text":"Triangular Hydrograph Distribution","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/hydist_tri.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Triangular Hydrograph Distribution — hydist_tri","text":"","code":"hydist_tri(dst_peak, dst_baseflow, dst_when, duration = 1)"},{"path":"https://stochagbem.github.io/stochasim/reference/hydist_tri.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Triangular Hydrograph Distribution — hydist_tri","text":"dst_peak, dst_baseflow Distributions peak baseflow discharges. Baseflow distribution possibly modified ensure baseflow realizations smaller peak discharge. dst_when Distribution timing peak; must return values 0 1. duration long event? Single positive numeric.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/hydist_tri.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Triangular Hydrograph Distribution — hydist_tri","text":"Hydrograph distribution returning triangular hydrographs.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/hydist_tri.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Triangular Hydrograph Distribution — hydist_tri","text":"","code":"h <- hydist_tri(    dst_peak = dst_gev(100, 3, 0.1),    dst_baseflow = dst_norm(50, 10^2),    dst_when = dst_beta(20, 50),    duration = 3 * 24 ) #> Error in dst_gev(100, 3, 0.1): could not find function \"dst_gev\" set.seed(42) plot(h, n = 1000, ylim = c(30, 150)) #> Error in eval(expr, envir, enclos): object 'h' not found plot(h, n = 1000, add = TRUE) #> Error in eval(expr, envir, enclos): object 'h' not found"},{"path":"https://stochagbem.github.io/stochasim/reference/new_hydist.html","id":null,"dir":"Reference","previous_headings":"","what":"Constructor Function for ","title":"Constructor Function for ","text":"Constructor Function \"hydst\" Objects","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/new_hydist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Constructor Function for ","text":"","code":"new_hydist(l, ..., class = character())"},{"path":"https://stochagbem.github.io/stochasim/reference/new_hydist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Constructor Function for ","text":"l List containing components distribution object. ... Attributes add list. class making subclass, specify name .","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/new_hydist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Constructor Function for ","text":"\"hydist\" object.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/new_stochasim.html","id":null,"dir":"Reference","previous_headings":"","what":"Constructor Function for Stochasim Objects — new_stochasim","title":"Constructor Function for Stochasim Objects — new_stochasim","text":"Constructor Function Stochasim Objects","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/new_stochasim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Constructor Function for Stochasim Objects — new_stochasim","text":"","code":"new_stochasim(l, ..., class = character())"},{"path":"https://stochagbem.github.io/stochasim/reference/plot.hydist.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot random realization of a hydrograph distribution — plot.hydist","title":"Plot random realization of a hydrograph distribution — plot.hydist","text":"Plot random realization hydrograph distribution","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/plot.hydist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot random realization of a hydrograph distribution — plot.hydist","text":"","code":"# S3 method for hydist plot(x, ..., ylab = \"Discharge\", xlab = \"Time\")"},{"path":"https://stochagbem.github.io/stochasim/reference/plot.hydist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot random realization of a hydrograph distribution — plot.hydist","text":"x Hydrograph distribution ... arguments pass curve() function. xlab, ylab Y-axis x-axis labels plot.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/plot.hydist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot random realization of a hydrograph distribution — plot.hydist","text":"Base R plot randomly drawn hydrograph.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/realise.hydist.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Random Hydrographs — realise.hydist","title":"Generate Random Hydrographs — realise.hydist","text":"Generate Random Hydrographs","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/realise.hydist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Random Hydrographs — realise.hydist","text":"","code":"# S3 method for hydist realise(distribution, n = 1)"},{"path":"https://stochagbem.github.io/stochasim/reference/realise.hydist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Random Hydrographs — realise.hydist","text":"distribution Hydrograph distribution. n Number hydrographs generate; single positive integer.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/revegetate.html","id":null,"dir":"Reference","previous_headings":"","what":"Revegetate a cross section — revegetate","title":"Revegetate a cross section — revegetate","text":"Reduce width channel cross section percentage compared baseline channel width.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/revegetate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Revegetate a cross section — revegetate","text":"","code":"revegetate(cross_section, width0, rate = 0.1)"},{"path":"https://stochagbem.github.io/stochasim/reference/revegetate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Revegetate a cross section — revegetate","text":"cross_section \"cross_section\" object representing stream's cross section. width0 \"Stable\" cross section width; positive numeric. rate Revegetation percent; single number 0 1.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/revegetate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Revegetate a cross section — revegetate","text":"original cross section reduced width. Width reduction calculated proportion rate difference channel width width0.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/ss.html","id":null,"dir":"Reference","previous_headings":"","what":"Get peak flows and channel widths from stochasim — ss_flows","title":"Get peak flows and channel widths from stochasim — ss_flows","text":"Get peak flows channel widths stochasim","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/ss.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get peak flows and channel widths from stochasim — ss_flows","text":"","code":"ss_flows(stochasim)  ss_widths(stochasim)"},{"path":"https://stochagbem.github.io/stochasim/reference/ss.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get peak flows and channel widths from stochasim — ss_flows","text":"stochasim Stochasim object.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/stochasim.html","id":null,"dir":"Reference","previous_headings":"","what":"Stochasim Algorithm — stochasim","title":"Stochasim Algorithm — stochasim","text":"Stochasim Algorithm Stochasim Algorithm","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/stochasim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stochasim Algorithm — stochasim","text":"","code":"stochasim(x, cross_section, rv_rate = 0.1, niter = 300)  stochasim2(x, y, cross_section, rv_rate = c(0, 0.1), niter = 300)"},{"path":"https://stochagbem.github.io/stochasim/reference/stochasim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stochasim Algorithm — stochasim","text":"x, y Hydrographs, list bare. Recycled length. cross_section \"cross_section\" object representing stream's cross section. rv_rate Rate parameter revegetation, passed revegetate(). niter Number iterations gbem::gbem() running hydrograph. hydist Hydrograph Distribution nsim Number event hydrographs run; positive integer.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/stochasim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Stochasim Algorithm — stochasim","text":"stochasim object, containing event hydrographs, cross sections. stochasim object, containing event hydrographs, cross sections.","code":""},{"path":"https://stochagbem.github.io/stochasim/reference/stochasim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Stochasim Algorithm — stochasim","text":"","code":"library(distionary) regime <- hydist_snow(distionary::dst_gev(1000, 3, 0.1), baseflow = 50) cs <- gbem::cross_section(3, grad = 0.01, d50 = 0.1, d84 = 0.5, roughness = 0.01) ss <- stochasim(regime, cross_section = cs) #> Error in vapply(x, function(h) h(0), FUN.VALUE = numeric(1L)): values must be length 1, #>  but FUN(X[[1]]) result is length 0 ss_flows(ss) #> Error in eval(expr, envir, enclos): object 'ss' not found ss_widths(ss) #> Error in eval(expr, envir, enclos): object 'ss' not found # Start with a cross section cs <- cross_section(3, grad = 0.01, d50 = 0.1, d84 = 0.5, roughness = 0.01)  # Make 1000 rain hydrographs and run stochasim library(distionary) dst_rain <- hydist_rain(dst_gev(1000, 3, 0.1), baseflow = 50) rain <- realise(dst_rain, n = 1000) ss <- stochasim(hydrographs, cross_section = cs) #> Error in eval(expr, envir, enclos): object 'hydrographs' not found plot(ss) #> Error in eval(expr, envir, enclos): object 'ss' not found plot(ss, \"flows\") #> Error in eval(expr, envir, enclos): object 'ss' not found  # Make 1000 snow hydrographs and run stochasim on both hydrographs. dst_snow <- hydist_snow(dst_norm(1000, 10^2), baseflow = 50) snow <- realise(dst_snow, n = 1000) ss2 <- stochasim2(snow, rain, cross_section = cs) plot(ss2)"}]
